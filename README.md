# seesea

A C compiler targeting LLVM IR or aarch64 assembly. 

This is not an optimising compiler, but it's certainly a compiling compiler, 
and that ought to be enough for anybody. Besides, LLVM can fix anything pathological on its own.

## Limitations 

- Pointers are assumed to be 64 bits. 
- Maybe features are implemented as syntax de-sugaring to other features which may have unexpected runtime performance characteristics.
- No debug info is emitted. 
- This does not include a preprocessor, so it depends on something else for macros, includes, etc. 

### Aarch64 Backend Specific 

- Can only target macOS because they use a slightly different calling convention.
- Outputs text, not binary executables, so it still depends on an assembler and linker. 
- Not optimised. Function calls and phi nodes generate unnecessary move instructions. 

### TODO

switch, arrays, goto, break, continue, enums, pass structs by value, 
break, continue, preprocessor macros, signed values, correct char size, bitwise ops, 
and/or short-circuiting, struct/array init literals, automatic stack arrays, write variadic functions,
global/static variables, function pointers. 

## Stages

> Some would say it's impossible to jump 100 feet. Realize that it's okay to jump 1 foot 100 times. 

### Lexing

### Parsing

### Resolve names 

### Resolve types

### Syntax de-sugaring

### SSA form IR

### Debug VM

### LLVM IR

### Live-ness analysis 

### Text aarch64

## Libraries

- The lexer (converting source code to a stream of tokens) is generated by [Logos](https://crates.io/crates/logos). 
- LLVM (with the llvm-sys rust bindings).
